<!DOCTYPE html>
<html>
  <head>
    <title>Wild Closures with JS</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/styles.css" media="screen" />
    <script src="js/utilities.js"></script>
    <script src="js/app.js"></script>
    <script>
    var app = new CrimeApp(),
        crimes = app.getCrimes(),
        locations = app.getLocations(),
        utils = new Utils();
    </script>
  </head>
  
  <body>
    <div id="wrapper" class="clearfix">
      <div class="inner_wrapper">
        
        <div class="header">
          <h1>Wild Closures!</h1>
        </div><!-- end header //-->
      
        <div class="left col one_third">
          <h2>Choose a crime:</h2>
            <script>
              var data={
                'nameKey': 'crime_select',
                'idKey': 'crime_selector',
                'elementClassKey': '',
                'defaultVals': {
                  'value': '---',
                  'text': 'choose a crime'
                  },
                };
              document.writeln(utils.buildSelectMenu(crimes, data));
            </script>
          <br />
          <br />
          <script>
            var data={
              'nameKey': 'location_select',
              'idKey': 'location_selector',
              'elementClassKey': '',
              'defaultVals': {
                'value': '---',
                'text': 'choose the location where it happened'
                },
              };
            document.writeln(utils.buildSelectMenu(locations, data));
          </script>
          
        </div><!-- end left col //-->

        <div class="right col two_thirds">
          <div id="crime_map">
          </div>
        </div><!-- end right col //-->
      </div><!-- end inner wrapper //-->
    </div><!-- end wrapper //-->
    <div class="footer">&copy; Copyright 2014 varker kamachi</div>
    
  </body>
  <script>
  document.onReady = function() {
    app.updateDefaultConfig();
    app.configureLocationSelect({innerText: 'Great, now plot it on the map!'});
    app.configureCrimeSelect();
  }();
  document.onLoad = function() {
    app.buildMapLocations(locations);
  }();

  var loc = document.getElementById('location_selector'),
      crime = document.getElementById('crime_selector'),
      reportCount = 0;
  </script>
</html>